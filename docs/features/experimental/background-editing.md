---
description: 了解实验性的后台编辑设置，该设置允许在 Roo Code 在后台进行文件编辑时不受干扰地编码。
keywords:
  - 实验功能
  - 编辑器焦点
  - 差异视图
  - 后台编辑
  - 工作流程优化
  - 不受干扰的编码
image: /img/social-share.jpg
---
# 后台编辑

在 Roo Code 在后台编辑文件时不受干扰地工作——不再因自动差异视图而失去焦点。

:::warning 实验功能
这是一项实验功能，会改变文件编辑的显示方式。虽然它可以显著改善工作流程，但您需要通过源代码管理或文件历史记录手动审查更改。
:::

---

## 概述

“后台编辑”设置是一项实验功能，它在 Roo Code 编辑文件时禁用自动差异视图显示。Roo 不会将您的编辑器焦点切换到显示差异，而是默默地在后台工作，让您可以继续编码而不受干扰。此功能影响所有文件编辑操作，包括写入、应用差异、搜索/替换、插入内容和多文件应用差异工具。

### 主要优势

- **不间断的焦点**：在 Roo 进行更改时保持在当前文件中
- **更流畅的工作流程**：无需在文件之间切换上下文
- **后台处理**：文件编辑在后台静默进行
- **减少干扰**：保持您的编码流程
- **性能**：无需 UI 更新即可更快地进行文件操作
- **批处理操作**：非常适合大型重构或多个文件更新

### 权衡

- **无视觉确认**：在进行更改时您将看不到差异
- **需要手动审查**：通过 Git 或文件历史记录检查更改
- **较少的即时反馈**：更改不会立即可见
- **静默更改**：文件在没有视觉通知的情况下更改 - 定期检查 Git 状态
- **有限的环境上下文**：由于文件未在视觉上打开，Roo 不会将最近编辑的文件视为其环境详细信息中的打开标签页

---

## 启用功能

要启用后台编辑：

1. 打开 Roo Code 设置（右上角的齿轮图标）
2. 导航到“实验”选项卡
3. 在列表中找到“后台编辑”
4. 切换设置以启用它

<img src="/img/background-editing/background-editing.png" alt="Roo Code 实验功能中的后台编辑设置" width="400" />

---

## 工作原理

### 默认行为（功能禁用）

在没有此功能的情况下，当 Roo 编辑文件时：
1. 文件在您的编辑器中打开
2. 出现一个差异视图，显示更改
3. 您的焦点转移到修改后的文件
4. 您审查并可能调整更改

### 功能启用后

启用后，Roo 的文件编辑：
1. 在后台静默进行
2. 不打开新的编辑器标签页
3. 不显示差异视图
4. 不中断您当前的工作
5. 仍为诊断检测在内存中打开文件（不可见）

### 仍然会发生什么

即使启用了该功能：
- 文件仍会在磁盘上被修改
- 更改会出现在源代码控制中
- 文件观察器和构建工具会检测到更改
- Roo 的聊天会显示编辑了哪些文件
- 错误检测和诊断继续正常工作
- 文件会为诊断目的在内存中打开（在编辑器中不可见）
- 诊断检测的写入延迟仍然得到遵守

---

## 最佳使用场景

此功能特别有益于：

- **大型重构操作**：当 Roo 需要更新许多文件时
- **批处理文件更新**：在多个文件中进行类似更改
- **对性能敏感的任务**：当 UI 更新会减慢操作速度时
- **专注的编码会话**：当您想避免上下文切换时
- **自动化工作流程**：按顺序运行多个文件操作

---

## 最佳实践

使用此功能时：

1. **使用版本控制**：定期检查 Git 状态以跟踪更改
2. **定期审查**：不要让太多更改在未经审查的情况下累积
3. **有选择地启用**：考虑为特定任务类型启用
4. **监控聊天**：注意 Roo 关于文件修改的消息
5. **检查诊断**：确保您的编辑器问题面板保持可见

---

## 常见问题解答

**问：我还能看到 Roo 编辑了哪些文件吗？**
答：是的，Roo 的聊天消息会列出所有修改的文件，更改会出现在源代码控制中。

**问：如果我需要立即看到特定更改怎么办？**
答：您可以手动打开文件并使用源代码控制查看差异。

**问：这会影响 Roo 编辑文件的能力吗？**
答：不会，Roo 仍然可以进行所有相同的编辑；只有显示行为发生了变化。所有文件编辑工具（写入、应用差异、搜索/替换、插入内容和多文件应用差异）都遵守此设置。

**问：我可以仅为特定项目启用此功能吗？**
答：目前，这是一个影响所有项目的全局设置。

**问：审批对话框会发生什么？**
答：如果您尚未自动批准文件编辑，文件编辑审批仍会出现；只有差异显示被抑制。

**问：诊断和错误检测仍然有效吗？**
答：是的，文件会在内存中打开以进行诊断检测，因此即使文件未显示，错误检查也会继续正常运行。

**问：此功能在设置中如何显示？**
答：在实验选项卡中，它被标记为“后台编辑”，并带有防止编辑器焦点中断的描述。
